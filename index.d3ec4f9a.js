var e=globalThis,t={},n={},s=e.parcelRequire66c7;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,s.call(a.exports,a,a.exports),a.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire66c7=s),s.register;var a=s("cOa8X");const o=document.querySelector("button.btn.btn-primary"),c=document.querySelector("button.btn.btn-outline-success"),r=document.querySelector(".login-sign-container"),l=document.querySelector(".logout-container"),i=document.querySelector("h2.userEmail.mb-3"),d=document.querySelector("div.container.mb-3"),u=document.querySelector("ul#taskList.list-group.mt-3"),g=document.querySelector("button.btn.btn-success.mb-3.shadow"),m=document.querySelector("input#taskName.form-control");function L(e){u.innerHTML="",a.getUsersTasks(e).then(e=>{e.data.forEach(e=>{let t=document.createElement("li");t.classList.add("list-group-item"),e.data().isDone?t.classList.add("bg-success"):t.classList.add("bg-warning"),t.textContent=e.data().name,t.id=e.id,u.appendChild(t)})})}c.addEventListener("click",e=>{window.location.href="../login.html"}),o.addEventListener("click",e=>{window.location.href="../createAccount.html"}),l.addEventListener("click",e=>{a.tryLogoutUser().then(e=>{let t=localStorage.getItem("userEmail");localStorage.removeItem("userEmail"),console.log(`Unlogged ${t}`),r.classList.remove("d-none"),l.classList.add("d-none"),d.classList.add("d-none")}).catch(e=>{console.log(e)})}),document.addEventListener("DOMContentLoaded",function(){if(localStorage.getItem("userEmail")){let e=localStorage.getItem("userEmail");r.classList.add("d-none"),l.classList.remove("d-none"),d.classList.remove("d-none"),i.textContent=`Hello, ${e}!`,a.getUsersTasks(e).then(e=>{e.data.forEach(e=>{let t=document.createElement("li");t.classList.add("list-group-item"),e.data().isDone?t.classList.add("bg-success"):t.classList.add("bg-warning"),t.textContent=e.data().name,t.id=e.id,u.appendChild(t)})})}else r.classList.remove("d-none"),l.classList.add("d-none"),d.classList.add("d-none")}),g.addEventListener("click",e=>{e.preventDefault();let t=localStorage.getItem("userEmail"),n=m.value;console.log("task: ",n),n&&a.addNewTaskToUser(t,n).then(e=>{console.log("Addedd: ",e),L(t)}).catch(e=>{console.log(e)})}),u.addEventListener("click",e=>{e.target.id&&(console.log(e.target.id),e.target.classList.contains("bg-warning")?a.confirmTask(e.target.id).then(t=>{e.target.classList.add("bg-success"),e.target.classList.remove("bg-warning")}):e.target.classList.contains("bg-success")&&a.deleteTask(e.target.id).then(e=>{L(localStorage.getItem("userEmail"))}))});
//# sourceMappingURL=index.d3ec4f9a.js.map
