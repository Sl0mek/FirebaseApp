var e=globalThis,t={},n={},s=e.parcelRequire66c7;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,s.call(a.exports,a,a.exports),a.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire66c7=s),s.register;var a=s("cOa8X");const o=document.querySelector("button.btn.btn-primary"),d=document.querySelector("button.btn.btn-outline-success"),c=document.querySelector(".login-sign-container"),l=document.querySelector(".logout-container"),r=document.querySelector("h2.userEmail.mb-3"),i=document.querySelector("div.container.mb-3"),u=document.querySelector("ul#taskList.list-group.mt-3"),m=document.querySelector("button.btn.btn-success.mb-3.shadow"),g=document.querySelector("input#taskName.form-control");function b(e){u.innerHTML="",a.getUsersTasks(e).then(t=>{t.data.forEach(t=>{let n=document.createElement("li"),s=document.createElement("button");n.classList.add("list-group-item","d-flex","flex-row","justify-content-between"),t.data().isDone?(n.classList.add("bg-success"),s.textContent="Delete",s.classList.add("btn","btn-danger","btn-sm","btn-block"),s.style.width="80px",s.id=t.id,s.addEventListener("click",t=>{a.deleteTask(t.target.id).then(n=>{t.target.classList.remove("bg-success"),t.target.classList.add("bg-warning"),b(e)})})):(n.classList.add("bg-warning"),s.textContent="Confirm",s.classList.add("btn","btn-success","btn-sm","mr-2","btn-block"),s.style.width="80px",s.id=t.id,s.addEventListener("click",t=>{a.confirmTask(t.target.id).then(t=>{b(e)})})),n.textContent=t.data().name,n.appendChild(s),u.appendChild(n)})})}d.addEventListener("click",e=>{window.location.href="../login.html"}),o.addEventListener("click",e=>{window.location.href="../createAccount.html"}),l.addEventListener("click",e=>{a.tryLogoutUser().then(e=>{let t=localStorage.getItem("userEmail");localStorage.removeItem("userEmail"),console.log(`Unlogged ${t}`),c.classList.remove("d-none"),l.classList.add("d-none"),i.classList.add("d-none")}).catch(e=>{console.log(e)})}),document.addEventListener("DOMContentLoaded",function(){if(localStorage.getItem("userEmail")){let e=localStorage.getItem("userEmail");c.classList.add("d-none"),l.classList.remove("d-none"),i.classList.remove("d-none"),r.textContent=`Hello, ${e}!`,a.getUsersTasks(e).then(t=>{t.data.forEach(t=>{let n=document.createElement("li"),s=document.createElement("button");n.classList.add("list-group-item","d-flex","flex-row","justify-content-between"),t.data().isDone?(n.classList.add("bg-success"),s.textContent="Delete",s.classList.add("btn","btn-danger","btn-sm","btn-block"),s.style.width="80px",s.id=t.id,s.addEventListener("click",t=>{a.deleteTask(t.target.id).then(n=>{t.target.classList.remove("bg-success"),t.target.classList.add("bg-warning"),b(e)})})):(n.classList.add("bg-warning"),s.textContent="Confirm",s.classList.add("btn","btn-success","btn-sm","mr-2","btn-block"),s.style.width="80px",s.id=t.id,s.addEventListener("click",t=>{a.confirmTask(t.target.id).then(t=>{b(e)})})),n.textContent=t.data().name,n.appendChild(s),u.appendChild(n)})})}else c.classList.remove("d-none"),l.classList.add("d-none"),i.classList.add("d-none")}),m.addEventListener("click",e=>{e.preventDefault();let t=localStorage.getItem("userEmail"),n=g.value;console.log("task: ",n),n&&a.addNewTaskToUser(t,n).then(e=>{console.log("Addedd: ",e),b(t)}).catch(e=>{console.log(e)})});
//# sourceMappingURL=index.432afc72.js.map
